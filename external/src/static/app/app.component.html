<mydeq-header [headerDetail]="{first_name:utils.userDetails.first_name,last_name:utils.userDetails.last_name}"></mydeq-header>
<div class="clearfix"></div>
<div class="mydeq-global-content-main pt-3">
  <div class="container" [ngClass]="{'mydeq-global-confirmation-container':utils.isConfirmationPage}">
    <div class="card card-inverse bg-primary mb-3" *ngIf="utils.placeName">
      <div class="card-body p-3" style=" font-size: 18px;">
        <div class="float-left text-secondary font-weight-bold mb-0 pl-1">{{utils.placeName}}</div>
        <div class="float-right text-secondary font-weight-light mb-0 pl-1">{{utils.placeAddress}}</div>
        <div class="clearfix"></div>
      </div>
    </div>
    <div>
      <div class="float-right pl-3" id="saveExitContainer" ngbDropdown placement="bottom-right" *ngIf="utils.showSaveAndExit">
        <button id="saveexitbtn" class="btn btn-primary float-right" type="button" ngbDropdownToggle>
          <i class="far fa-save" aria-hidden="true"></i> SAVE APPLICATION &amp; EXIT
          <i class="fas fa-chevron-right"></i>
        </button>
        <div ngbDropdownMenu>
          <div id="saveExitCollapse" class="card bg-primary text-secondary float-right">
            <div class="card-body">
              <h5 class="font-weight-normal">You can save this application (up to the last page of data entered) to your myAPPLICATIONS tab to complete
                at a later date by clicking SAVE & EXIT. Or click CANCEL to continue filling out this application now.</h5>
            </div>
            <div class="clearfix"></div>
            <div class="card-footer p-0">
              <button type="button" class="btn btn-secondary float-left text-primary w-25">
                <span class="arrow">
                  <i class="fas fa-chevron-left"></i>
                </span> CANCEL
              </button>
              <button type="button" class="btn btn-secondary float-right text-primary w-25" (click)="saveAndExit()">
                SAVE &amp; EXIT
                <span class="arrow">
                  <i class="fas fa-chevron-right"></i>
                </span>
              </button>
              <div class="clearfix"></div>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>
      </div>
      <div class="float-right pr-0">
        <button id="saveexitbtn" class="btn btn-danger float-right" type="button" style="background-color: #604543; color: #fff;" (click)="showNeedHelp()">
          <i class="fa fa-user pr-2" aria-hidden="true"></i>NEED HELP ?
        </button>
      </div>
    </div>
    <div class="clearfix"></div>
    <section class="jumbotron {{pageClass}}">
      <div class="card card-default">

        <div *ngIf="showReturnToQL" class="pt-3 pl-4">
          <button type="button" class="btn btn-primary float-left" (click)="goToQstList()" placement="right" [ngbPopover]="popContent" triggers="mouseenter:mouseleave">
            <span class="arrow left">
              <i class="fa fa-chevron-left"></i>
            </span>RETURN TO QUESTION LIST
          </button>
          <div class="clearfix"></div>

          <ng-template #popContent>
              <div class="pb-2 "> Clicking this button will not save your answer.  You will return to the question list page where you can view & edit all questions.</div>
              <div class="clearfix"></div>
            </ng-template>
          
        </div>
        <div class="clearfix"></div>

        <div class="card-header px-0 mx-4 pb-0">
          <h1 class="card-title text-primary divider-horizontal font-weight-bold pb-3 mb-0">{{utils?.title}}</h1>
          <!--Comments -->
          <comments *ngIf="utils.reviewComments && utils.reviewComments.length>0" (editEvt)="editPage($event)"
            [isPageLevel]="'true'" [defaultClass]="'comments'" [reviewList]="utils.reviewComments"></comments>
        </div>
        <router-outlet (activate)='onActivate($event)' (deactivate)='onDeactivate($event)'></router-outlet>
      </div>
    </section>
  </div>
</div>
<div class="clearfix"></div>
<mydeq-session-timeout> </mydeq-session-timeout>
<mydeq-footer></mydeq-footer>

<div *ngIf="utils.showLoadingSign" class="modal-backdrop fade show" style="z-index: 1052;"></div>
<div *ngIf="utils.showLoadingSign" class="modal fade show" id="mydeq-busy" style="z-index: 1055;">
  <div class="text-center">
    <div class="mydeq-busy">
      <div class="mydeq-busy-spinner"></div>
    </div>
  </div>
</div>

<app-need-help></app-need-help>
